<!-- This is the source template. Do not edit per-set HTML files directly. -->
<!-- Instead, edit this file and run ./generate.sh to regenerate them. -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading...</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <button id="settings-btn" aria-label="Settings">&#9881;</button>
    <div id="settings-backdrop" class="settings-backdrop"></div>
    <div id="settings-panel" class="settings-panel">
        <div class="settings-header">
            <h2>Settings</h2>
            <button id="settings-close" aria-label="Close settings">&times;</button>
        </div>
        <h3>Cloud Sync</h3>
        <div class="cloud-settings-body">
            <label for="pantry-id-input">
                Pantry ID
                <span class="help-icon" tabindex="0" aria-label="What is this?">?</span>
            </label>
            <p class="help-text" id="pantry-id-help">
                This is optional. You can use the checklist without it &mdash; just make your selections and use
                "Copy Share Link" above to create a link you can open on another device or bookmark for later.
                Cloud Sync uses <a href="https://getpantry.cloud" target="_blank" rel="noopener noreferrer">getpantry.cloud</a>,
                a free JSON storage service, to save your selections online so they persist without needing to keep a link.
                To get started, visit <a href="https://getpantry.cloud" target="_blank" rel="noopener noreferrer">getpantry.cloud</a>,
                create a pantry, copy your Pantry ID, and paste it here. Your ID is stored only in this browser's local storage and is never shared.
            </p>
            <div class="cloud-input-row">
                <input type="password" id="pantry-id-input" placeholder="Paste your Pantry ID...">
                <button id="save-pantry-id-btn">Save</button>
            </div>
            <p id="cloud-status"></p>
            <div class="cloud-btn-row">
                <button id="sync-btn" disabled>Sync to Cloud</button>
                <button id="load-btn" disabled>Load from Cloud</button>
                <button id="clear-cloud-btn" style="display:none">Clear Cloud Settings</button>
            </div>
        </div>
        <h3>Export</h3>
        <div class="export-body">
            <p class="export-desc">Download your checklist as a file.</p>
            <div class="export-row">
                <select id="export-format">
                    <option value="csv">CSV</option>
                    <option value="tsv">TSV</option>
                    <option value="markdown">Markdown</option>
                    <option value="json">JSON</option>

                </select>
                <button id="export-btn">Export</button>
            </div>
        </div>
    </div>

    <h1 id="page-title"></h1>

<div class="progress-wrapper">
    <div id="progress-container">
        <div id="progress-bar"></div>
    </div>
    <div id="progress-label">0/0 (0%)</div>
</div>
<div class="button-row">
    <button id="share-btn">Copy Share Link</button>
    <button id="clear-btn">Clear Selections</button>
</div>

<div class="filter-bar">
    <div class="filter-segmented" id="category-nav"></div>
    <div class="filter-segmented" id="status-filter">
        <button class="filter-seg active" data-filter="all" data-tooltip="Show all cards">All</button>
        <button class="filter-seg" data-filter="unchecked" data-tooltip="Show cards still needed">Need</button>
        <button class="filter-seg" data-filter="checked" data-tooltip="Show owned cards only">Have</button>
    </div>
    <div id="search-container">
        <input type="text" id="search-input" placeholder="Search cards..." autocomplete="off">
        <button id="search-clear" type="button" aria-label="Clear search">&times;</button>
    </div>
</div>

<div id="cloud-dirty-banner" class="cloud-dirty-banner" style="display:none">
    Unsaved changes &mdash; <button id="banner-sync-btn" type="button">Sync to Cloud</button>
</div>

<div id="card-content"></div>

<footer class="site-footer">
    <a href="https://github.com/pzelnip/tim_hortons_cards/" target="_blank" rel="noopener noreferrer">View Source on GitHub</a>
    <span class="version-sha">__GIT_SHA__</span>
</footer>

<div id="confirm-modal" class="modal-overlay" style="display:none">
    <div class="modal-box">
        <p class="modal-message">This will delete your cloud data (ie card selections) and remove your Pantry ID. Continue?</p>
        <div class="modal-btn-row">
            <button id="confirm-yes" class="modal-btn modal-btn-danger">Clear Settings</button>
            <button id="confirm-no" class="modal-btn modal-btn-cancel">Cancel</button>
        </div>
    </div>
</div>

<script src="app.js"></script>

</body>
</html>
