<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading...</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1 id="page-title"></h1>

<div class="progress-wrapper">
    <div id="progress-container">
        <div id="progress-bar"></div>
    </div>
    <div id="progress-label">0/0 (0%)</div>
</div>
<div class="button-row">
    <button id="share-btn">Copy Share Link</button>
    <button id="clear-btn">Clear Selections</button>
</div>

<details id="cloud-settings">
    <summary>Cloud Sync</summary>
    <div class="cloud-settings-body">
        <label for="api-key-input">
            jsonstorage.net API Key
            <span class="help-icon" tabindex="0" aria-label="What is this?">?</span>
        </label>
        <p class="help-text" id="api-key-help">
            This is optional. You can use the checklist without it &mdash; just make your selections and use
            "Copy Share Link" above to create a link you can open on another device or bookmark for later.
            Cloud Sync uses <a href="https://jsonstorage.net" target="_blank" rel="noopener noreferrer">jsonstorage.net</a>,
            a free JSON storage service, to save your selections online so they persist without needing to keep a link.
            To get started, visit <a href="https://app.jsonstorage.net" target="_blank" rel="noopener noreferrer">app.jsonstorage.net</a>,
            generate an API key, and paste it here. Your key is stored only in this browser's local storage and is never shared.
        </p>
        <div class="cloud-input-row">
            <input type="password" id="api-key-input" placeholder="Paste your API key...">
            <button id="save-api-key-btn">Save Key</button>
            <button id="remove-api-key-btn" style="display:none">Remove Key</button>
        </div>
        <p id="cloud-status"></p>
        <div class="cloud-btn-row">
            <button id="sync-btn" disabled>Sync to Cloud</button>
            <button id="load-btn" disabled>Load from Cloud</button>
        </div>
    </div>
</details>

<div class="filter-bar">
    <div class="filter-segmented" id="category-nav"></div>
    <div class="filter-segmented" id="status-filter">
        <button class="filter-seg active" data-filter="all" data-tooltip="Show all cards">All</button>
        <button class="filter-seg" data-filter="unchecked" data-tooltip="Show cards still needed">Need</button>
        <button class="filter-seg" data-filter="checked" data-tooltip="Show owned cards only">Have</button>
    </div>
    <div id="search-container">
        <input type="text" id="search-input" placeholder="Search cards..." autocomplete="off">
        <button id="search-clear" type="button" aria-label="Clear search">&times;</button>
    </div>
</div>

<div id="card-content"></div>

<footer class="site-footer">
    <a href="https://github.com/pzelnip/tim_hortons_cards/" target="_blank" rel="noopener noreferrer">View Source on GitHub</a>
</footer>

<script src="app.js"></script>

</body>
</html>
